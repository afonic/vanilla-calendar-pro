/*! name: vanilla-calendar-pro v3.0.0 | url: https://github.com/uvarov-frontend/vanilla-calendar-pro */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).VanillaCalendar=t()}(this,(function(){"use strict";var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,l=(e,l)=>{for(var i in l||(l={}))n.call(l,i)&&a(e,i,l[i]);if(t)for(var i of t(l))s.call(l,i)&&a(e,i,l[i]);return e},i=(e,t,n)=>(a(e,"symbol"!=typeof t?t+"":t,n),n);const r={calendar:"vc",controls:"vc-controls",grid:"vc-grid",column:"vc-column",header:"vc-header",headerContent:"vc-header__content",month:"vc-month",year:"vc-year",arrowPrev:"vc-arrow vc-arrow_prev",arrowNext:"vc-arrow vc-arrow_next",wrapper:"vc-wrapper",content:"vc-content",months:"vc-months",monthsMonth:"vc-months__month",years:"vc-years",yearsYear:"vc-years__year",week:"vc-week",weekDay:"vc-week__day",weekNumbers:"vc-week-numbers",weekNumbersTitle:"vc-week-numbers__title",weekNumbersContent:"vc-week-numbers__content",weekNumber:"vc-week-number",dates:"vc-dates",date:"vc-date",dateBtn:"vc-date__btn",datePopup:"vc-date__popup",time:"vc-time",timeContent:"vc-time__content",timeHour:"vc-time__hour",timeMinute:"vc-time__minute",timeKeeping:"vc-time__keeping",timeRanges:"vc-time__ranges",timeRange:"vc-time__range"},o=e=>`<div class="${e.header}" data-vc="header"><div class="${e.headerContent}" data-vc-header="content"><#Month /><#Year /></div></div><div class="${e.wrapper}" data-vc="wrapper"><div class="${e.content}" data-vc="content"><#Months /></div></div>\n`,c=e=>`<div class="${e.controls}" data-vc="controls"><#ArrowPrev /><#ArrowNext /></div><div class="${e.grid}" data-vc="grid"><#Multiple><div class="${e.column}" data-vc="column"><div class="${e.header}" data-vc="header"><div class="${e.headerContent}" data-vc-header="content"><#Month /><#Year /></div></div><div class="${e.wrapper}" data-vc="wrapper"><#WeekNumbers /><div class="${e.content}" data-vc="content"><#Week /><#Dates /></div></div></div><#/Multiple></div><#ControlTime />\n`,d=e=>`<div class="${e.header}" data-vc="header"><#ArrowPrev /><div class="${e.headerContent}" data-vc-header="content"><#Month /><#Year /></div><#ArrowNext /></div><div class="${e.wrapper}" data-vc="wrapper"><div class="${e.content}" data-vc="content"><#Years /></div></div>\n`;class u{constructor(){var e;i(this,"isInit",!1),i(this,"isInputInit",!1),i(this,"input",!1),i(this,"type","default"),i(this,"months",2),i(this,"jumpMonths",1),i(this,"jumpToSelectedDate",!1),i(this,"toggleSelected",!0),i(this,"date",{min:"1970-01-01",max:"2470-12-31",today:new Date}),i(this,"settings",{lang:"en",iso8601:!0,range:{min:void 0,max:void 0,disablePast:!1,disableGaps:!1,edgesOnly:!1,disableAllDays:!1,disableWeekday:void 0,disabled:void 0,enabled:void 0},selection:{day:"single",month:!0,year:!0,time:!1,controlTime:"all",stepHours:1,stepMinutes:1,cancelableDay:!0},selected:{dates:void 0,month:void 0,year:void 0,holidays:void 0,time:void 0},visibility:{theme:"system",themeDetect:"html[data-theme]",monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,disabled:!1,daysOutside:!0,positionToInput:"left"}}),i(this,"locale",{months:[],weekday:[]}),i(this,"sanitizer",(e=>e)),i(this,"actions",{clickDay:null,clickWeekNumber:null,clickMonth:null,clickYear:null,clickArrow:null,changeTime:null,changeToInput:null,getDays:null,getMonths:null,getYears:null,initCalendar:null,updateCalendar:null,destroyCalendar:null,showCalendar:null,hideCalendar:null}),i(this,"popups",{}),i(this,"CSSClasses",l({},r)),i(this,"DOMTemplates",{default:(e=this.CSSClasses,`<div class="${e.header}" data-vc="header"><#ArrowPrev /><div class="${e.headerContent}" data-vc-header="content"><#Month /><#Year /></div><#ArrowNext /></div><div class="${e.wrapper}" data-vc="wrapper"><#WeekNumbers /><div class="${e.content}" data-vc="content"><#Week /><#Dates /></div></div><#ControlTime />\n`),multiple:c(this.CSSClasses),month:o(this.CSSClasses),year:d(this.CSSClasses)}),i(this,"HTMLElement"),i(this,"HTMLOriginalElement"),i(this,"HTMLInputElement"),i(this,"rangeMin"),i(this,"rangeMax"),i(this,"rangeDisabled"),i(this,"rangeEnabled"),i(this,"selectedDates"),i(this,"selectedHolidays"),i(this,"selectedMonth"),i(this,"selectedYear"),i(this,"selectedHours"),i(this,"selectedMinutes"),i(this,"selectedKeeping"),i(this,"selectedTime"),i(this,"currentType"),i(this,"correctMonths"),i(this,"viewYear"),i(this,"dateMin"),i(this,"dateMax")}}const m=e=>`${e} is not found, check the first argument passed to new VanillaCalendar.`,g='The calendar has not been initialized, please initialize it using the "init()" method first.',v='You specified "define" for "settings.lang" but did not provide the required values for "locale.weekday" or "locale.months".',h="The value of the time property can be: false, true, 12 or 24.",p=e=>new Date(`${e}T00:00:00`),M=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,y=(e,t)=>{const n=p(e);n.setDate(n.getDate()+4-(t?n.getDay()||7:n.getDay()));const s=new Date(n.getFullYear(),0,1),a=Math.ceil(((+n-+s)/864e5+1)/7);return{year:n.getFullYear(),week:a}},b=(e,t,n,s,a,l,i)=>{const r=document.createElement("div");r.className=e.CSSClasses.date,r.dataset.vcDate=l,r.dataset.vcDateMonth=i;const o=document.createElement("button");o.className=e.CSSClasses.dateBtn,o.type="button",o.dataset.vcDateBtn="",o.innerText=String(s),e.settings.visibility.weekNumbers&&((e,t,n)=>{const s=y(n,e.settings.iso8601);s&&(t.dataset.vcWeekNumber=String(s.week))})(e,r,l),("current"===i||e.settings.visibility.daysOutside)&&r.appendChild(o),((e,t,n)=>{var s,a,l,i,r;const o=null==(s=e.settings.range.disableWeekday)?void 0:s.includes(n),c=e.settings.range.disableAllDays&&!(null==(a=e.rangeEnabled)||!a[0]);(o||c)&&(null==(l=e.rangeEnabled)||!l.includes(t))&&(null==(i=e.rangeDisabled)||!i.includes(t))&&(e.rangeDisabled.push(t),null==(r=e.rangeDisabled)||r.sort(((e,t)=>+new Date(e)-+new Date(t))))})(e,l,a),((e,t,n,s,a,l)=>{var i,r,o;if((p(e.rangeMin)>p(a)||p(e.rangeMax)<p(a)||(null==(i=e.rangeDisabled)?void 0:i.includes(a))||!e.settings.selection.month&&"current"!==l||!e.settings.selection.year&&p(a).getFullYear()!==t)&&(n.tabIndex=-1,n.dataset.vcDateDisabled=""),e.settings.visibility.today&&M(e.date.today)===a&&(n.dataset.vcDateToday=""),e.settings.visibility.weekend&&(0===s||6===s)&&(n.dataset.vcDateWeekend=""),null!=(r=e.selectedHolidays)&&r.includes(a)&&(n.dataset.vcDateHoliday=""),null!=(o=e.selectedDates)&&o.includes(a)&&(n.dataset.vcDateSelected="",e.selectedDates.length>1&&"multiple-ranged"===e.settings.selection.day&&(e.selectedDates[0]===a&&(n.dataset.vcDateSelected="first"),e.selectedDates[e.selectedDates.length-1]===a&&(n.dataset.vcDateSelected="last"),e.selectedDates[0]!==a&&e.selectedDates[e.selectedDates.length-1]!==a&&(n.dataset.vcDateSelected="middle"))),e.settings.range.edgesOnly&&e.selectedDates.length>1&&"multiple-ranged"===e.settings.selection.day){const t=+new Date(e.selectedDates[0]),s=+new Date(e.selectedDates[e.selectedDates.length-1]),l=+new Date(a);l>t&&l<s&&(n.dataset.vcDateSelected="middle")}})(e,t,r,a,l,i),n.appendChild(r),e.actions.getDays&&e.actions.getDays(s,l,r,o,e)};function f(e){if(!e||!e.getBoundingClientRect)return{top:0,bottom:0,left:0,right:0};const t=e.getBoundingClientRect(),n=document.documentElement;return{bottom:t.bottom,right:t.right,top:t.top+window.scrollY-n.clientTop,left:t.left+window.scrollX-n.clientLeft}}function w(){return{vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),vh:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function D(e){const{top:t,left:n}={left:window.scrollX||document.documentElement.scrollLeft||0,top:window.scrollY||document.documentElement.scrollTop||0},{top:s,left:a}=f(e),{vh:l,vw:i}=w(),r=s-t,o=a-n;return{top:r,bottom:l-(r+e.clientHeight),left:o,right:i-(o+e.clientWidth)}}function T(e,t,n=5){const s={top:!0,bottom:!0,left:!0,right:!0},a=[];if(!t||!e)return{canShow:s,parentPositions:a};const{bottom:l,top:i}=D(e),{top:r,left:o}=f(e),{height:c,width:d}=t.getBoundingClientRect(),{vh:u,vw:m}=w(),g=m/2,v=u/2;return[{condition:r<v,position:"top"},{condition:r>v,position:"bottom"},{condition:o<g,position:"left"},{condition:o>g,position:"right"}].forEach((({condition:e,position:t})=>{e&&a.push(t)})),Object.assign(s,{top:c<=i-n,bottom:c<=l-n,left:d<=o,right:d<=m-o}),{canShow:s,parentPositions:a}}const E=(e,t)=>{var n;e.popups&&(null==(n=Object.entries(e.popups))||n.forEach((([n,s])=>((e,t,n,s)=>{const a=s.querySelector(`[data-vc-date="${t}"]`);if(!a)return;const l=a.querySelector("[data-vc-date-btn]");if(null!=n&&n.modifier&&(null==l||l.classList.add(...n.modifier.trim().split(" "))),null!=n&&n.html){const t=document.createElement("div");t.className=e.CSSClasses.datePopup,t.dataset.vcDatePopup="",t.innerHTML=e.sanitizer(n.html),a.appendChild(t),setTimeout((()=>{if(t){const{canShow:e}=T(a,t),n=5;let s=a.offsetHeight,l=0;e.bottom||(s=-t.offsetHeight-n),e.left&&!e.right&&(l=a.offsetWidth-t.offsetWidth/2),!e.left&&e.right&&(l=t.offsetWidth/2),Object.assign(t.style,{left:`${l}px`,top:`${s}px`})}}))}})(e,n,s,t))))},S=e=>{const t=new Date(e.selectedYear,e.selectedMonth,1),n=e.HTMLElement.querySelectorAll('[data-vc="dates"]'),s=e.HTMLElement.querySelectorAll('[data-vc-week="numbers"]');n.forEach(((n,a)=>{e.settings.selection.day||(n.dataset.vcDatesDisabled="");const l=new Date(t);l.setMonth(l.getMonth()+a);const i=l.getMonth(),r=l.getFullYear(),o=new Date(r,i+1,0).getDate(),c=new Date(r,i,1),d=e.settings.iso8601?(0!==c.getDay()?c.getDay():7)-1:c.getDay();n.textContent="",((e,t,n,s,a)=>{let l=new Date(n,s,0).getDate()-(a-1);const i=0===s?n-1:n,r=0===s?12:s<10?`0${s}`:s;for(let s=a;s>0;s--,l++){const s=`${i}-${r}-${l}`,a=p(s).getDay();b(e,n,t,l,a,s,"prev")}})(e,n,r,i,d),((e,t,n,s,a)=>{for(let l=1;l<=n;l++){const n=new Date(s,a,l);b(e,s,t,l,n.getDay(),M(n),"current")}})(e,n,o,r,i),((e,t,n,s,a,l)=>{const i=l+n,r=7*Math.ceil(i/7)-i,o=a+1===12?s+1:s,c=a+1===12?"01":a+2<10?`0${a+2}`:a+2;for(let n=1;n<=r;n++){const a=`${o}-${c}-${n<10?`0${n}`:String(n)}`,l=p(a).getDay();b(e,s,t,n,l,a,"next")}})(e,n,o,r,i,d),((e,t,n,s,a)=>{if(!e.settings.visibility.weekNumbers)return;s.textContent="";const l=document.createElement("b");l.className=e.CSSClasses.weekNumbersTitle,l.innerText="#",l.dataset.vcWeekNumbers="title",s.appendChild(l);const i=document.createElement("div");i.className=e.CSSClasses.weekNumbersContent,i.dataset.vcWeekNumbers="content",s.appendChild(i);const r=document.createElement("button");r.type="button",r.className=e.CSSClasses.weekNumber;const o=a.querySelectorAll("[data-vc-date]"),c=Math.ceil((t+n)/7);for(let t=0;t<c;t++){const n=o[0===t?6:7*t].dataset.vcDate,s=y(n,e.settings.iso8601);if(!s)return;const a=r.cloneNode(!0);a.innerText=String(s.week),a.dataset.vcWeek="number",a.dataset.vcWeekYear=String(s.year),i.appendChild(a)}})(e,d,o,s[a],n),E(e,n)}))},H={ArrowNext:e=>`<button type="button" class="${e.CSSClasses.arrowNext}" data-vc-arrow="next"></button>`,ArrowPrev:e=>`<button type="button" class="${e.CSSClasses.arrowPrev}" data-vc-arrow="prev"></button>`,ControlTime:e=>e.settings.selection.time?`<div class="${e.CSSClasses.time}" data-vc="time"></div>`:"",Dates:e=>`<div class="${e.CSSClasses.dates}" data-vc="dates"></div>`,Month:e=>`<button type="button" class="${e.CSSClasses.month}" data-vc="month"></button>`,Months:e=>`<div class="${e.CSSClasses.months}" data-vc="months"></div>`,Week:e=>`<div class="${e.CSSClasses.week}" data-vc="week"></div>`,WeekNumbers:e=>e.settings.visibility.weekNumbers?`<div class="${e.CSSClasses.weekNumbers}" data-vc-week="numbers"></div>`:"",Year:e=>`<button type="button" class="${e.CSSClasses.year}" data-vc="year"></button>`,Years:e=>`<div class="${e.CSSClasses.years}" data-vc="years"></div>`},C=(e,t)=>t.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,((t,n)=>{const s=(e=>H[e])(n.replace(/[/\s\n\t]/g,"")),a=s?s(e):"";return e.sanitizer(a)})).replace(/[\n\t]/g,""),L=(e,t)=>{if(e.HTMLElement.className=e.CSSClasses.calendar,e.HTMLElement.dataset.vc="calendar",e.HTMLElement.dataset.vcType=e.currentType,"multiple"===e.currentType&&e.correctMonths)e.HTMLElement.innerHTML=((e,t)=>t.replace(/<#Multiple>(.*?)<#\/Multiple>/g,((t,n)=>{let s="";for(let t=0;t<e.correctMonths;t++)s+=n;return e.sanitizer(s)})).replace(/[\n\t]/g,""))(e,C(e,e.DOMTemplates[e.currentType]));else{if("multiple"===e.type&&t){const n=e.HTMLElement.querySelector('[data-vc="controls"]'),s=e.HTMLElement.querySelector('[data-vc="grid"]'),a=t.closest('[data-vc="column"]');return n&&e.HTMLElement.removeChild(n),s&&(s.dataset.vcGrid="hidden"),a&&(a.dataset.vcColumn=e.currentType),void(a&&(a.innerHTML=C(e,e.DOMTemplates[e.currentType])))}e.HTMLElement.innerHTML=C(e,e.DOMTemplates[e.currentType])}},$=e=>{const t=e.HTMLElement.querySelectorAll('[data-vc="month"]'),n=e.HTMLElement.querySelectorAll('[data-vc="year"]'),s=new Date(e.selectedYear,e.selectedMonth,1);[t,n].forEach((t=>null==t?void 0:t.forEach(((t,n)=>((e,t,n,s,a)=>{const l=new Date(s.setFullYear(e.selectedYear,e.selectedMonth+n)).getFullYear(),i=new Date(s.setMonth(e.selectedMonth+n)).getMonth(),r={month:{id:i,label:e.locale.months[i]},year:{id:l,label:l}};t.innerText=String(r[a].label),t.dataset[`vc${a.charAt(0).toUpperCase()+a.slice(1)}`]=String(r[a].id);const o=!1===e.settings.selection[a]||"only-arrows"===e.settings.selection[a];o&&(t.tabIndex=-1),t.disabled=o})(e,t,n,s,t.dataset.vc)))))},k=e=>{if("multiple"!==e.type)return 0;const t=e.HTMLElement.querySelectorAll('[data-vc="column"]'),n=Array.from(t).findIndex((e=>e.closest('[data-vc-column="month"]')));return n>0?n:0},x=(e,t,n,s,a,l)=>{const i=t.cloneNode(!1);return i.className=e.CSSClasses.monthsMonth,i.innerText=`${e.settings.visibility.monthShort?s.substring(0,3):s}`,i.title=s,i.dataset.vcMonthsMonth=`${l}`,n===l&&(i.dataset.vcMonthsMonthSelected=""),a&&(i.tabIndex=-1),i.disabled=a,i},Y=(e,t)=>{var n;const s=null==(n=null==t?void 0:t.closest('[data-vc="header"]'))?void 0:n.querySelector('[data-vc="year"]'),a=s?Number(s.dataset.vcYear):e.selectedYear,l=null!=t&&t.dataset.vcMonth?Number(t.dataset.vcMonth):e.selectedMonth;e.currentType="month",L(e,t),$(e);const i=e.HTMLElement.querySelector('[data-vc="months"]');if(!e.settings.selection.month||!i)return;const r=e.jumpMonths>1?e.locale.months.map(((t,n)=>l-e.jumpMonths*n)).concat(e.locale.months.map(((t,n)=>l+e.jumpMonths*n))).filter((e=>e>=0&&e<=12)):Array.from(Array(12).keys()),o=document.createElement("button");o.type="button";for(let t=0;t<12;t++){const n=e.locale.months[t],s=t<e.dateMin.getMonth()+k(e)&&a<=e.dateMin.getFullYear()||t>e.dateMax.getMonth()+k(e)&&a>=e.dateMax.getFullYear()||t!==l&&!r.includes(t),c=x(e,o,l,n,s,t);i.appendChild(c),e.actions.getMonths&&e.actions.getMonths(t,c,e)}},A=e=>e?{0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(e)]||String(e):"",N=(e,t)=>e&&t?{0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"12",PM:"12"}}[Number(e)][t]:"",I=(e,t)=>{e.addEventListener("mouseover",(()=>t.dataset.vcInputFocus="")),e.addEventListener("mouseout",(()=>t.removeAttribute("data-vc-input-focus")))},F=(e,t,n,s)=>{({hour:()=>{e.selectedHours=n},minute:()=>{e.selectedMinutes=n}})[s](),e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`,e.actions.changeTime&&e.actions.changeTime(t,e),e.input&&e.HTMLInputElement&&e.actions.changeToInput&&e.actions.changeToInput(t,e)},P=(e,t,n,s,a,l)=>{t.addEventListener("input",(i=>{const r=Number(t.value),o=r<10?`0${r}`:`${r}`;if("hour"!==a||12!==l)return n.value=o,void F(e,i,o,a);r<l&&r>0?(n.value=o,e.selectedKeeping="AM",s&&(s.innerText=e.selectedKeeping),F(e,i,o,a)):(0===r?(e.selectedKeeping="AM",s&&(s.innerText="AM")):(e.selectedKeeping="PM",s&&(s.innerText="PM")),n.value=A(t.value),F(e,i,A(t.value),a))}))},q=(e,t,n,s,a,l)=>{n.addEventListener("change",(i=>{const r=Number(n.value),o=r<10?`0${r}`:`${r}`;"hour"===a&&12===l?n.value&&r<=l&&r>0?(n.value=o,t.value=N(o,e.selectedKeeping),F(e,i,o,a)):n.value&&r<24&&(r>l||0===r)?(0===r?(e.selectedKeeping="AM",s&&(s.innerText="AM")):(e.selectedKeeping="PM",s&&(s.innerText="PM")),n.value=A(n.value),t.value=o,F(e,i,A(n.value),a)):n.value=e.selectedHours:n.value&&r<=l&&r>=0?(n.value=o,t.value=o,F(e,i,o,a)):"hour"===a?n.value=e.selectedHours:"minute"===a&&(n.value=e.selectedMinutes)}))},W=(e,t,n)=>{const s=t.querySelector('[data-vc-time-range="hour"] input[name="hour"]'),a=t.querySelector('[data-vc-time-range="minute"] input[name="minute"]'),l=t.querySelector('[data-vc-time-input="hour"] input[name="hour"]'),i=t.querySelector('[data-vc-time-input="minute"] input[name="minute"]'),r=t.querySelector('[data-vc-time="keeping"]');if(!(s&&a&&l&&i))return;const o=24===n?23:n||12;I(s,l),I(a,i),q(e,s,l,r,"hour",o),q(e,a,i,r,"minute",59),P(e,s,l,r,"hour",o),P(e,a,i,r,"minute",0),r&&((e,t,n)=>{t.addEventListener("click",(s=>{e.selectedKeeping=t.innerText.includes("AM")?"PM":"AM",t.innerText=e.selectedKeeping,n.value=N(e.selectedHours,e.selectedKeeping),F(e,s,e.selectedHours,"hour")}))})(e,r,s)},O=(e,t,n,s)=>`<label class="${t}" data-vc-time-input="${e}"><input type="text" name="${e}" maxlength="2" value="${n}" ${s?"disabled":""}></label>\n`,_=(e,t,n,s,a,l)=>`<label class="${t}" data-vc-time-range="${e}"><input type="range" name="${e}" min="${n}" max="${s}" step="${a}" value="${l}"></label>\n`,K=e=>{const t=[...e.locale.weekday];t[0]&&(e.settings.iso8601&&t.push(t.shift()),e.HTMLElement.querySelectorAll('[data-vc="week"]').forEach((n=>((e,t,n)=>{const s=document.createElement("b");for(let a=0;a<n.length;a++){const l=n[a],i=s.cloneNode(!0);i.className=e.CSSClasses.weekDay,i.dataset.vcWeekDay=e.settings.visibility.weekend&&e.settings.iso8601?5===a||6===a?"off":"work":e.settings.visibility.weekend&&!e.settings.iso8601?0===a||6===a?"off":"work":"",i.innerText=l,t.appendChild(i)}})(e,n,t))))},j=(e,t,n,s)=>{e.style.visibility=n?"hidden":"",t.style.visibility=s?"hidden":""},z=e=>{if("month"===e.currentType)return;const t=e.HTMLElement.querySelector('[data-vc-arrow="prev"]'),n=e.HTMLElement.querySelector('[data-vc-arrow="next"]');t&&n&&{default:()=>((e,t,n)=>{const s=p(M(new Date(e.selectedYear,e.selectedMonth,1))),a=new Date(s.getTime()),l=new Date(s.getTime());a.setMonth(a.getMonth()-e.jumpMonths),l.setMonth(l.getMonth()+e.jumpMonths),e.settings.selection.year||(e.dateMin.setFullYear(s.getFullYear()),e.dateMax.setFullYear(s.getFullYear()));const i=!e.settings.selection.month||a.getFullYear()<e.dateMin.getFullYear()||a.getFullYear()===e.dateMin.getFullYear()&&a.getMonth()<e.dateMin.getMonth(),r=!e.settings.selection.month||l.getFullYear()>e.dateMax.getFullYear()||l.getFullYear()===e.dateMax.getFullYear()&&l.getMonth()>e.dateMax.getMonth();j(t,n,i,r)})(e,t,n),year:()=>((e,t,n)=>{const s=!!(e.dateMin.getFullYear()&&e.viewYear-7<=e.dateMin.getFullYear()),a=!!(e.dateMax.getFullYear()&&e.viewYear+7>=e.dateMax.getFullYear());j(t,n,s,a)})(e,t,n)}["multiple"===e.currentType?"default":e.currentType]()},R=(e,t,n,s,a)=>{const l=t.cloneNode(!1);return l.className=e.CSSClasses.yearsYear,l.innerText=String(a),l.dataset.vcYearsYear=`${a}`,n===a&&(l.dataset.vcYearsYearSelected=""),s&&(l.tabIndex=-1),l.disabled=s,l},B=(e,t)=>{const n=null!=t&&t.dataset.vcYear?Number(t.dataset.vcYear):e.selectedYear;e.currentType="year",L(e,t),$(e),z(e);const s=e.HTMLElement.querySelector('[data-vc="years"]');if(!e.settings.selection.year||!s)return;const a="multiple"!==e.type||e.selectedYear===n?0:1,l=document.createElement("button");l.type="button";for(let t=e.viewYear-7;t<e.viewYear+8;t++){const i=t<e.dateMin.getFullYear()+a||t>e.dateMax.getFullYear(),r=R(e,l,n,i,t);s.appendChild(r),e.actions.getYears&&e.actions.getYears(t,r,e)}},G={value:!1,set:()=>G.value=!0,check:()=>G.value},U=(e,t)=>e.dataset.vcTheme=t,Z=(e,t)=>{if(U(e.HTMLElement,t.matches?"dark":"light"),"system"!==e.settings.visibility.theme||G.check())return;const n=e=>{const t=document.querySelectorAll('[data-vc="calendar"]');null==t||t.forEach((t=>U(t,e.matches?"dark":"light")))};t.addEventListener?t.addEventListener("change",n):t.addListener(n),G.set()},V=(e,t)=>{const n=e.settings.visibility.themeDetect?document.querySelector(e.settings.visibility.themeDetect):null,s=e.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,((e,t)=>t));if(!n||"system"===n.getAttribute(s))return void Z(e,t);const a=n.getAttribute(s);a?(U(e.HTMLElement,a),((e,t,n)=>{new MutationObserver((s=>{for(let a=0;a<s.length;a++)if(s[a].attributeName===n){const s=t.getAttribute(n);s&&U(e.HTMLElement,s);break}})).observe(t,{attributes:!0})})(e,n,s)):Z(e,t)},X=e=>`${e.charAt(0).toUpperCase()}${e.substring(1,e.length)}`.replace(/\./,""),J=(e,t)=>{const n=new Date(`1978-01-0${t+1}T00:00:00.000Z`).toLocaleString(e.settings.lang,{weekday:"short",timeZone:"UTC"});e.locale.weekday.push(X(n))},Q=(e,t)=>{const n=new Date(`1978-${t+1<=9?`0${t+1}`:t+1}-01T00:00:00.000Z`).toLocaleString(e.settings.lang,{month:"long",timeZone:"UTC"});e.locale.months.push(X(n))},ee=e=>{const t={default:()=>{K(e),S(e)},multiple:()=>{K(e),S(e)},month:()=>Y(e),year:()=>B(e)};(e=>{"not all"!==window.matchMedia("(prefers-color-scheme)").media?"system"===e.settings.visibility.theme?V(e,window.matchMedia("(prefers-color-scheme: dark)")):U(e.HTMLElement,e.settings.visibility.theme):U(e.HTMLElement,"light")})(e),(e=>{if("define"!==e.settings.lang||!e.locale.weekday[6]||!e.locale.months[11]){if("define"===e.settings.lang)throw new Error(v);e.locale.weekday=[],e.locale.months=[];for(let t=0;t<7;t++)J(e,t);for(let t=0;t<12;t++)Q(e,t)}})(e),L(e),$(e),z(e),(e=>{const t=e.HTMLElement.querySelector('[data-vc="time"]');if(!t)return;const[n,s]=[0,23],[a,l]=[0,59],i=e.selectedKeeping?N(e.selectedHours,e.selectedKeeping):e.selectedHours,r=!0===e.settings.selection.time?12:e.settings.selection.time,o="range"===e.settings.selection.controlTime;t.innerHTML=e.sanitizer(`<div class="${e.CSSClasses.timeContent}" data-vc-time="content">${O("hour",e.CSSClasses.timeHour,e.selectedHours,o)}${O("minute",e.CSSClasses.timeMinute,e.selectedMinutes,o)}${12===r?`<button type="button" class="${e.CSSClasses.timeKeeping}" data-vc-time="keeping" ${o?"disabled":""}>${e.selectedKeeping}</button>`:""}</div><div class="${e.CSSClasses.timeRanges}" data-vc-time="ranges">${_("hour",e.CSSClasses.timeRange,n,s,e.settings.selection.stepHours,i)}${_("minute",e.CSSClasses.timeRange,a,l,e.settings.selection.stepMinutes,e.selectedMinutes)}</div>`),W(e,t,r)})(e),t[e.currentType]()},te=(e,t)=>{const n=p(M(new Date(e.selectedYear,e.selectedMonth,1)));({prev:()=>n.setMonth(n.getMonth()-e.jumpMonths),next:()=>n.setMonth(n.getMonth()+e.jumpMonths)})[t](),[e.selectedMonth,e.selectedYear]=[n.getMonth(),n.getFullYear()],$(e),z(e),S(e)},ne=(e,t,n)=>{const s=t.dataset.vcDate,a=t.closest("[data-vc-date][data-vc-date-selected]");if(a&&!e.settings.selection.cancelableDay)return;const l=(e=>void 0===e.toggleSelected||("function"==typeof e.toggleSelected?e.toggleSelected(e):e.toggleSelected))(e);a&&!l||(e.selectedDates=a?e.selectedDates.filter((e=>e!==s)):n?[...e.selectedDates,s]:[s])},se=e=>e.reduce(((e,t)=>{if(t instanceof Date||"number"==typeof t){const n=t instanceof Date?t:new Date(t);e.push(n.toISOString().substring(0,10))}else t.match(/^(\d{4}-\d{2}-\d{2})$/g)?e.push(t):t.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,((t,n,s)=>{const a=p(n),l=p(s),i=new Date(a.getTime());for(;i<=l;i.setDate(i.getDate()+1))e.push(M(i));return t}));return e}),[]),ae={self:null,rangeMin:void 0,rangeMax:void 0},le=()=>{var e;null!=(e=ae.self)&&e.HTMLElement&&ae.self.HTMLElement.querySelectorAll("[data-vc-date-hover]").forEach((e=>["data-vc-date-hover","data-vc-date-hover-first","data-vc-date-hover-last"].forEach((t=>e.removeAttribute(t)))))},ie=(e,t,n)=>{var s,a;if(null==(s=ae.self)||!s.selectedDates)return;const l=M(e);if(null!=(a=ae.self.rangeDisabled)&&a.includes(l))return;const i=ae.self.HTMLElement.querySelectorAll(`[data-vc-date="${l}"]`);null==i||i.forEach((e=>e.dataset.vcDateHover="")),null==t||t.forEach((e=>e.dataset.vcDateHoverFirst="")),null==n||n.forEach((e=>e.dataset.vcDateHoverLast=""))},re=e=>{var t;if(!e.target||null==(t=ae.self)||!t.selectedDates)return;if(!e.target.closest('[data-vc="dates"]'))return void le();const n=e.target.closest("[data-vc-date]");if(!n)return;const s=n.dataset.vcDate,a=p(ae.self.selectedDates[0]),l=p(s),i=ae.self.HTMLElement.querySelectorAll(`[data-vc-date="${ae.self.selectedDates[0]}"]`),r=ae.self.HTMLElement.querySelectorAll(`[data-vc-date="${s}"]`),[o,c]=a<l?[i,r]:[r,i],[d,u]=a<l?[a,l]:[l,a];le();for(let e=new Date(d);e<=u;e.setDate(e.getDate()+1))ie(e,o,c)},oe=e=>{!ae.self||"Escape"!==e.key||(ae.self.selectedDates=[],ae.self.HTMLElement.removeEventListener("mousemove",re),document.removeEventListener("keydown",oe),ee(ae.self))},ce=(e,t)=>{var n;if(t){const s=1===e.selectedDates.length&&e.selectedDates[0].includes(t);e.selectedDates=s&&!e.settings.selection.cancelableDay?[t,t]:s&&e.settings.selection.cancelableDay?[]:e.selectedDates.length>1?[t]:[...e.selectedDates,t],null==(n=e.selectedDates)||n.sort(((e,t)=>+new Date(e)-+new Date(t)))}e.settings.range.disableGaps&&(ae.rangeMin=ae.rangeMin?ae.rangeMin:e.rangeMin,ae.rangeMax=ae.rangeMax?ae.rangeMax:e.rangeMax),ae.self=e,{set:()=>{e.HTMLElement.addEventListener("mousemove",re),document.addEventListener("keydown",oe),e.settings.range.disableGaps&&(()=>{var e,t,n;if(null==(t=null==(e=ae.self)?void 0:e.selectedDates)||!t[0]||null==(n=ae.self.rangeDisabled)||!n[0])return;const s=p(ae.self.selectedDates[0]),[a,l]=ae.self.rangeDisabled.map((e=>p(e))).reduce((([e,t],n)=>[s>=n?n:e,s<n&&null===t?n:t]),[null,null]);a&&(ae.self.rangeMin=M(new Date(a.setDate(a.getDate()+1)))),l&&(ae.self.rangeMax=M(new Date(l.setDate(l.getDate()-1))))})()},reset:()=>{const[t,n]=[e.selectedDates[0],e.selectedDates[e.selectedDates.length-1]];e.selectedDates=e.selectedDates[0]!==e.selectedDates[e.selectedDates.length-1]?e.settings.range.edgesOnly?[t,n]:se([`${t}:${n}`]):[e.selectedDates[0],e.selectedDates[0]],e.HTMLElement.removeEventListener("mousemove",re),document.removeEventListener("keydown",oe),e.settings.range.disableGaps&&ae.self&&(ae.self.rangeMin=ae.rangeMin,ae.self.rangeMax=ae.rangeMax)}}[1===e.selectedDates.length?"set":"reset"]()},de=["month","year"],ue=(e,t,n)=>{const s=e.HTMLElement.querySelectorAll('[data-vc="column"]'),a=Array.from(s).findIndex((e=>e.closest(`[data-vc-column="${t}"]`))),l=Number(s[a].querySelector(`[data-vc="${t}"]`).getAttribute(`data-vc-${t}`));return"month"===e.currentType&&a>=0?n-a:"year"===e.currentType&&e.selectedYear!==l?n-1:n},me=(e,t,n,s)=>{({year:()=>{if("multiple"===e.type)return((e,t)=>{const n=ue(e,"year",Number(t.dataset.vcYearsYear)),s=e.selectedMonth<e.dateMin.getMonth()&&n<=e.dateMin.getFullYear(),a=e.selectedMonth>e.dateMax.getMonth()&&n>=e.dateMax.getFullYear(),l=n<e.dateMin.getFullYear(),i=n>e.dateMax.getFullYear();e.selectedYear=s||l?e.dateMin.getFullYear():a||i?e.dateMax.getFullYear():n,e.selectedMonth=s||l?e.dateMin.getMonth():a||i?e.dateMax.getMonth():e.selectedMonth})(e,s);e.selectedYear=Number(s.dataset.vcYearsYear)},month:()=>{if("multiple"===e.type)return((e,t)=>{const n=t.closest('[data-vc-column="month"]').querySelector('[data-vc="year"]'),s=ue(e,"month",Number(t.dataset.vcMonthsMonth)),a=Number(n.dataset.vcYear),l=s<e.dateMin.getMonth()&&a<=e.dateMin.getFullYear(),i=s>e.dateMax.getMonth()&&a>=e.dateMax.getFullYear();e.selectedYear=a,e.selectedMonth=l?e.dateMin.getMonth():i?e.dateMax.getMonth():s})(e,s);e.selectedMonth=Number(s.dataset.vcMonthsMonth)}})[n](),{year:()=>{var n,s;return null==(s=(n=e.actions).clickYear)?void 0:s.call(n,t,e)},month:()=>{var n,s;return null==(s=(n=e.actions).clickMonth)?void 0:s.call(n,t,e)}}[n](),e.currentType=e.type,ee(e)},ge=(e,t)=>{de.forEach((n=>{!e.settings.selection[n]||!t.target||((e,t,n)=>{const s=t.target,a=s.closest(`[data-vc="${n}"]`),l={year:()=>B(e,s),month:()=>Y(e,s)};if(a&&e.currentType!==n)return l[n]();const i=s.closest(`[data-vc-${n}s-${n}]`);if(i)return me(e,t,n,i);const r=s.closest('[data-vc="grid"]'),o=s.closest('[data-vc="column"]');(e.currentType===n&&a||"multiple"===e.type&&e.currentType===n&&r&&!o)&&(e.currentType=e.type,ee(e))})(e,t,n)}))},ve=e=>{const t=t=>{((e,t)=>{const n=t.target.closest("[data-vc-arrow]");n&&(["default","multiple"].includes(e.currentType)?te(e,n.dataset.vcArrow):"year"===e.currentType&&void 0!==e.viewYear&&(e.viewYear+={prev:-15,next:15}[n.dataset.vcArrow],B(e,t.target)),e.actions.clickArrow&&e.actions.clickArrow(t,e))})(e,t),((e,t)=>{if(!e.settings.visibility.weekNumbers||!e.actions.clickWeekNumber)return;const n=t.target.closest('[data-vc="week-numbers"]'),s=e.HTMLElement.querySelectorAll("[data-vc-week-number]");if(!n||!s)return;const a=Number(n.innerText),l=Number(n.dataset.calendarYearWeek),i=Array.from(s).filter((e=>Number(e.dataset.vcWeekNumber)===a));e.actions.clickWeekNumber(t,a,i,l,e)})(e,t),((e,t)=>{var n;const s=t.target,a=s.closest("[data-vc-date-btn]");if(!e.settings.selection.day||!["single","multiple","multiple-ranged"].includes(e.settings.selection.day)||!a)return;const l=a.closest("[data-vc-date]");({single:()=>ne(e,l,!1),multiple:()=>ne(e,l,!0),"multiple-ranged":()=>ce(e,l.dataset.vcDate)})[e.settings.selection.day](),null==(n=e.selectedDates)||n.sort(((e,t)=>+new Date(e)-+new Date(t))),e.actions.clickDay&&e.actions.clickDay(t,e),e.input&&e.HTMLInputElement&&e.HTMLElement&&e.actions.changeToInput&&e.actions.changeToInput(t,e);const i=s.closest('[data-vc-date-month="prev"]'),r=s.closest('[data-vc-date-month="next"]');({prev:()=>te(e,"prev"),next:()=>te(e,"next"),current:()=>S(e)})[i?"prev":r?"next":"current"]()})(e,t),ge(e,t)};return e.HTMLElement.addEventListener("click",t),()=>e.HTMLElement.removeEventListener("click",t)};const he=(e,t,n)=>{if(e){const s="auto"===n?function(e,t){const n="left";if(!t||!e)return n;const{canShow:s,parentPositions:a}=T(e,t),l=s.left&&s.right;return(l&&s.bottom?"center":l&&s.top?["top","center"]:Array.isArray(a)?["bottom"===a[0]?"top":"bottom",...a.slice(1)]:a)||n}(e,t):n,a={top:-t.offsetHeight,bottom:e.offsetHeight,left:0,center:e.offsetWidth/2-t.offsetWidth/2,right:e.offsetWidth-t.offsetWidth},l=Array.isArray(s)?s[0]:"bottom",i=Array.isArray(s)?s[1]:s;t.dataset.vcPosition=l;const{top:r,left:o}=f(e),c=r+a[l];let d=o+a[i];const{vw:u}=w();if(d+t.clientWidth>u){const e=window.innerWidth-document.body.clientWidth;d=u-t.clientWidth-e}else d<0&&(d=0);Object.assign(t.style,{left:`${d}px`,top:`${c}px`})}},pe=()=>{const e=new Date;return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().substring(0,10)},Me=e=>{e.currentType=e.type,(e=>{var t;if(e.jumpToSelectedDate&&null!=(t=e.settings.selected.dates)&&t.length&&void 0===e.settings.selected.month&&void 0===e.settings.selected.year){const t=p(se(e.settings.selected.dates)[0]);e.settings.selected.month=t.getMonth(),e.settings.selected.year=t.getFullYear()}const n=void 0!==e.settings.selected.month&&Number(e.settings.selected.month)>=0&&Number(e.settings.selected.month)<12,s=void 0!==e.settings.selected.year&&Number(e.settings.selected.year)>=0&&Number(e.settings.selected.year)<=9999;e.selectedMonth=n?Number(e.settings.selected.month):e.date.today.getMonth(),e.selectedYear=s?Number(e.settings.selected.year):e.date.today.getFullYear(),e.viewYear=e.selectedYear})(e),(e=>{var t,n,s;"today"===e.date.min&&(e.date.min=pe()),"today"===e.date.max&&(e.date.max=pe()),"today"===e.settings.range.min&&(e.settings.range.min=pe()),"today"===e.settings.range.max&&(e.settings.range.max=pe()),e.settings.range.min=e.settings.range.min?p(e.date.min)>=p(e.settings.range.min)?e.date.min:e.settings.range.min:e.date.min,e.settings.range.max=e.settings.range.max?p(e.date.max)<=p(e.settings.range.max)?e.date.max:e.settings.range.max:e.date.max;const a=e.settings.range.disablePast&&!e.settings.range.disableAllDays&&p(e.settings.range.min)<e.date.today;e.rangeMin=a||e.settings.range.disableAllDays?M(e.date.today):e.settings.range.min,e.rangeMax=e.settings.range.disableAllDays?M(e.date.today):e.settings.range.max,e.rangeDisabled=e.settings.range.disabled&&!e.settings.range.disableAllDays?se(e.settings.range.disabled):e.settings.range.disableAllDays?[e.rangeMin]:[],e.rangeDisabled.length>1&&e.rangeDisabled.sort(((e,t)=>+new Date(e)-+new Date(t))),e.rangeEnabled=e.settings.range.enabled?se(e.settings.range.enabled):[],null!=(t=e.rangeEnabled)&&t[0]&&null!=(n=e.rangeDisabled)&&n[0]&&(e.rangeDisabled=e.rangeDisabled.filter((t=>!e.rangeEnabled.includes(t)))),e.rangeEnabled.length>1&&e.rangeEnabled.sort(((e,t)=>+new Date(e)-+new Date(t))),null!=(s=e.rangeEnabled)&&s[0]&&e.settings.range.disableAllDays&&(e.rangeMin=e.rangeEnabled[0],e.rangeMax=e.rangeEnabled[e.rangeEnabled.length-1])})(e),(e=>{var t,n;e.selectedDates=null!=(t=e.settings.selected.dates)&&t[0]?se(e.settings.selected.dates):[],e.selectedHolidays=null!=(n=e.settings.selected.holidays)&&n[0]?se(e.settings.selected.holidays):[]})(e),(e=>{e.dateMin=e.settings.visibility.disabled?p(e.date.min):p(e.rangeMin),e.dateMax=e.settings.visibility.disabled?p(e.date.max):p(e.rangeMax)})(e),(e=>{const t=!0===e.settings.selection.time||12===e.settings.selection.time;if(t||24===e.settings.selection.time){let n=!1;if("string"==typeof e.settings.selected.time){const s=t?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;e.settings.selected.time.replace(s,((s,a,l,i)=>(a&&l&&(n=!0,e.selectedHours=a,e.selectedMinutes=l),i&&t?e.selectedKeeping=i:t&&(e.selectedKeeping="AM"),"")))}!n&&t?(e.selectedHours=A(String(e.date.today.getHours())),e.selectedMinutes=String(e.date.today.getMinutes()),e.selectedKeeping=Number(e.date.today.getHours())>=12?"PM":"AM"):n||(e.selectedHours=String(e.date.today.getHours()),e.selectedMinutes=String(e.date.today.getMinutes())),e.selectedHours=Number(e.selectedHours)<10?`0${Number(e.selectedHours)}`:`${e.selectedHours}`,e.selectedMinutes=Number(e.selectedMinutes)<10?`0${Number(e.selectedMinutes)}`:`${e.selectedMinutes}`,e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`}else if(e.settings.selection.time)throw new Error(h)})(e),(e=>{e.correctMonths="multiple"===e.type?1===e.months?2:e.months>12?12:e.months:1})(e)},ye=(e,{year:t,month:n,dates:s,holidays:a,time:i}={})=>{var r;const o=l({},e.settings.selected);e.settings.selected.year=t?o.year:e.selectedYear,e.settings.selected.month=n?o.month:e.selectedMonth,e.settings.selected.holidays=a?o.holidays:e.selectedHolidays,e.settings.selected.time=i?o.time:e.selectedTime,e.settings.selected.dates="only-first"===s&&null!=(r=e.selectedDates)&&r[0]?[e.selectedDates[0]]:!0===s?o.dates:e.selectedDates,Me(e),ee(e),e.settings.selected=o,"multiple-ranged"===e.settings.selection.day&&s&&ce(e)},be=(e,t=!0)=>{const n=document.createElement("div");return n.className=e.CSSClasses.calendar,n.dataset.vc="calendar",n.dataset.vcInput="",n.dataset.vcCalendarHidden="",n.style.visibility="hidden",e.isInputInit=!0,e.HTMLElement=n,document.body.appendChild(e.HTMLElement),t&&queueMicrotask((()=>{he(e.HTMLInputElement,n,e.settings.visibility.positionToInput),e.HTMLElement.style.visibility="visible",e.show()})),ye(e,{year:!0,month:!0,dates:!0,holidays:!0,time:!0}),e.actions.initCalendar&&e.actions.initCalendar(e),ve(e)},fe=e=>(e.HTMLOriginalElement=e.HTMLElement.cloneNode(!0),e.isInit=!0,e.input?(e=>{const t=[];e.HTMLInputElement=e.HTMLElement;const n=()=>he(e.HTMLInputElement,e.HTMLElement,e.settings.visibility.positionToInput),s=t=>{"Escape"===t.key&&(null!=e&&e.HTMLInputElement&&null!=e&&e.HTMLElement&&e.hide(),document.removeEventListener("keydown",s))},a=t=>{!e||t.target===e.HTMLInputElement||e.HTMLElement.contains(t.target)||(e.HTMLInputElement&&e.HTMLElement&&e.hide(),window.removeEventListener("resize",n),document.removeEventListener("click",a,{capture:!0}))},l=()=>{e.isInputInit?(he(e.HTMLInputElement,e.HTMLElement,e.settings.visibility.positionToInput),e.HTMLElement.style.visibility="visible",e.show()):t.push(be(e)),window.addEventListener("resize",n),document.addEventListener("click",a,{capture:!0}),document.addEventListener("keydown",s)};return e.HTMLInputElement.addEventListener("click",l),e.HTMLInputElement.addEventListener("focus",l),()=>{t.forEach((e=>e()))}})(e):(Me(e),ee(e),e.actions.initCalendar&&e.actions.initCalendar(e),ve(e))),we=class e extends u{constructor(t,n){var s;super(),i(this,"queryAndMemoize",(t=>{const n=document.querySelector(t);if(!n)throw new Error(m(t));return e.memoizedElements.set(t,n),n})),i(this,"init",(()=>fe(this))),i(this,"update",(e=>((e,{year:t,month:n,dates:s,holidays:a,time:l}={})=>{if(!e.isInit)throw new Error(g);e.input&&!e.isInputInit&&be(e,!1),ye(e,{year:t,month:n,dates:s,holidays:a,time:l}),e.actions.updateCalendar&&e.actions.updateCalendar(e)})(this,e))),i(this,"destroy",(()=>(e=>{var t,n,s,a,l;if(!e.isInit)throw new Error(g);e.input?(null==(t=e.HTMLElement.parentElement)||t.removeChild(e.HTMLElement),null==(s=null==(n=e.HTMLInputElement)?void 0:n.replaceWith)||s.call(n,e.HTMLOriginalElement),e.HTMLInputElement=void 0):null==(l=(a=e.HTMLElement).replaceWith)||l.call(a,e.HTMLOriginalElement),e.HTMLElement=e.HTMLOriginalElement,e.actions.destroyCalendar&&e.actions.destroyCalendar(e)})(this))),i(this,"show",(()=>{var e;(e=this).currentType?(e.HTMLElement.removeAttribute("data-vc-calendar-hidden"),e.actions.showCalendar&&e.actions.showCalendar(e)):e.HTMLElement.click()})),i(this,"hide",(()=>{var e;(e=this).currentType&&(e.HTMLElement.dataset.vcCalendarHidden="",e.actions.hideCalendar&&e.actions.hideCalendar(e))})),this.HTMLElement="string"==typeof t?null!=(s=e.memoizedElements.get(t))?s:this.queryAndMemoize(t):t,n&&this.applyOptions(n)}applyOptions(e){const t=(e,n)=>{Object.keys(n).forEach((s=>{"object"!=typeof e[s]||"object"!=typeof n[s]||n[s]instanceof Date?e[s]=n[s]:t(e[s],n[s])}))};t(this,e)}};return i(we,"memoizedElements",new Map),we}));