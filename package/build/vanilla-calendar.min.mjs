/*! name: vanilla-calendar-pro v3.0.0 | url: https://github.com/uvarov-frontend/vanilla-calendar-pro */
var ve=Object.defineProperty,z=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,$=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y=(e,t)=>{for(var n in t||(t={}))Me.call(t,n)&&$(e,n,t[n]);if(z)for(var n of z(t))pe.call(t,n)&&$(e,n,t[n]);return e},u=(e,t,n)=>($(e,"symbol"!=typeof t?t+"":t,n),n);const ye={calendar:"vc",controls:"vc-controls",grid:"vc-grid",column:"vc-column",header:"vc-header",headerContent:"vc-header__content",month:"vc-month",year:"vc-year",arrowPrev:"vc-arrow vc-arrow_prev",arrowNext:"vc-arrow vc-arrow_next",wrapper:"vc-wrapper",content:"vc-content",months:"vc-months",monthsMonth:"vc-months__month",years:"vc-years",yearsYear:"vc-years__year",week:"vc-week",weekDay:"vc-week__day",weekNumbers:"vc-week-numbers",weekNumbersTitle:"vc-week-numbers__title",weekNumbersContent:"vc-week-numbers__content",weekNumber:"vc-week-number",dates:"vc-dates",date:"vc-date",dateBtn:"vc-date__btn",datePopup:"vc-date__popup",time:"vc-time",timeContent:"vc-time__content",timeHour:"vc-time__hour",timeMinute:"vc-time__minute",timeKeeping:"vc-time__keeping",timeRanges:"vc-time__ranges",timeRange:"vc-time__range"},be=e=>`<div class="${e.header}" data-vc="header"><#ArrowPrev /><div class="${e.headerContent}" data-vc-header="content"><#Month /><#Year /></div><#ArrowNext /></div><div class="${e.wrapper}" data-vc="wrapper"><#WeekNumbers /><div class="${e.content}" data-vc="content"><#Week /><#Dates /></div></div><#ControlTime />\n`,De=e=>`<div class="${e.header}" data-vc="header"><div class="${e.headerContent}" data-vc-header="content"><#Month /><#Year /></div></div><div class="${e.wrapper}" data-vc="wrapper"><div class="${e.content}" data-vc="content"><#Months /></div></div>\n`,we=e=>`<div class="${e.controls}" data-vc="controls"><#ArrowPrev /><#ArrowNext /></div><div class="${e.grid}" data-vc="grid"><#Multiple><div class="${e.column}" data-vc="column"><div class="${e.header}" data-vc="header"><div class="${e.headerContent}" data-vc-header="content"><#Month /><#Year /></div></div><div class="${e.wrapper}" data-vc="wrapper"><#WeekNumbers /><div class="${e.content}" data-vc="content"><#Week /><#Dates /></div></div></div><#/Multiple></div><#ControlTime />\n`,Te=e=>`<div class="${e.header}" data-vc="header"><#ArrowPrev /><div class="${e.headerContent}" data-vc-header="content"><#Month /><#Year /></div><#ArrowNext /></div><div class="${e.wrapper}" data-vc="wrapper"><div class="${e.content}" data-vc="content"><#Years /></div></div>\n`;class Se{constructor(){u(this,"isInit",!1),u(this,"isInputInit",!1),u(this,"input",!1),u(this,"type","default"),u(this,"months",2),u(this,"jumpMonths",1),u(this,"jumpToSelectedDate",!1),u(this,"toggleSelected",!0),u(this,"date",{min:"1970-01-01",max:"2470-12-31",today:new Date}),u(this,"settings",{lang:"en",iso8601:!0,range:{min:void 0,max:void 0,disablePast:!1,disableGaps:!1,edgesOnly:!1,disableAllDays:!1,disableWeekday:void 0,disabled:void 0,enabled:void 0},selection:{day:"single",month:!0,year:!0,time:!1,controlTime:"all",stepHours:1,stepMinutes:1,cancelableDay:!0},selected:{dates:void 0,month:void 0,year:void 0,holidays:void 0,time:void 0},visibility:{theme:"system",themeDetect:"html[data-theme]",monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,disabled:!1,daysOutside:!0,positionToInput:"left"}}),u(this,"locale",{months:[],weekday:[]}),u(this,"sanitizer",(e=>e)),u(this,"actions",{clickDay:null,clickWeekNumber:null,clickMonth:null,clickYear:null,clickArrow:null,changeTime:null,changeToInput:null,getDays:null,getMonths:null,getYears:null,initCalendar:null,updateCalendar:null,destroyCalendar:null,showCalendar:null,hideCalendar:null}),u(this,"popups",{}),u(this,"CSSClasses",Y({},ye)),u(this,"DOMTemplates",{default:be(this.CSSClasses),multiple:we(this.CSSClasses),month:De(this.CSSClasses),year:Te(this.CSSClasses)}),u(this,"HTMLElement"),u(this,"HTMLOriginalElement"),u(this,"HTMLInputElement"),u(this,"rangeMin"),u(this,"rangeMax"),u(this,"rangeDisabled"),u(this,"rangeEnabled"),u(this,"selectedDates"),u(this,"selectedHolidays"),u(this,"selectedMonth"),u(this,"selectedYear"),u(this,"selectedHours"),u(this,"selectedMinutes"),u(this,"selectedKeeping"),u(this,"selectedTime"),u(this,"currentType"),u(this,"correctMonths"),u(this,"viewYear"),u(this,"dateMin"),u(this,"dateMax")}}const E={notFoundSelector:e=>`${e} is not found, check the first argument passed to new VanillaCalendar.`,notInit:'The calendar has not been initialized, please initialize it using the "init()" method first.',notLocale:'You specified "define" for "settings.lang" but did not provide the required values for "locale.weekday" or "locale.months".',incorrectTime:"The value of the time property can be: false, true, 12 or 24."},Ee=e=>{var t,n,s,a,l;if(!e.isInit)throw new Error(E.notInit);e.input?(null==(t=e.HTMLElement.parentElement)||t.removeChild(e.HTMLElement),null==(s=null==(n=e.HTMLInputElement)?void 0:n.replaceWith)||s.call(n,e.HTMLOriginalElement),e.HTMLInputElement=void 0):null==(l=(a=e.HTMLElement).replaceWith)||l.call(a,e.HTMLOriginalElement),e.HTMLElement=e.HTMLOriginalElement,e.actions.destroyCalendar&&e.actions.destroyCalendar(e)},Ce=e=>{e.currentType&&(e.HTMLElement.dataset.vcCalendarHidden="",e.actions.hideCalendar&&e.actions.hideCalendar(e))},h=e=>new Date(`${e}T00:00:00`),p=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,He=(e,t,n,s,a,l)=>{var i,r,o;if((h(e.rangeMin)>h(a)||h(e.rangeMax)<h(a)||(null==(i=e.rangeDisabled)?void 0:i.includes(a))||!e.settings.selection.month&&"current"!==l||!e.settings.selection.year&&h(a).getFullYear()!==t)&&(n.tabIndex=-1,n.dataset.vcDateDisabled=""),e.settings.visibility.today&&p(e.date.today)===a&&(n.dataset.vcDateToday=""),e.settings.visibility.weekend&&(0===s||6===s)&&(n.dataset.vcDateWeekend=""),null!=(r=e.selectedHolidays)&&r.includes(a)&&(n.dataset.vcDateHoliday=""),null!=(o=e.selectedDates)&&o.includes(a)&&(n.dataset.vcDateSelected="",e.selectedDates.length>1&&"multiple-ranged"===e.settings.selection.day&&(e.selectedDates[0]===a&&(n.dataset.vcDateSelected="first"),e.selectedDates[e.selectedDates.length-1]===a&&(n.dataset.vcDateSelected="last"),e.selectedDates[0]!==a&&e.selectedDates[e.selectedDates.length-1]!==a&&(n.dataset.vcDateSelected="middle"))),e.settings.range.edgesOnly&&e.selectedDates.length>1&&"multiple-ranged"===e.settings.selection.day){const t=+new Date(e.selectedDates[0]),s=+new Date(e.selectedDates[e.selectedDates.length-1]),l=+new Date(a);l>t&&l<s&&(n.dataset.vcDateSelected="middle")}},ke=(e,t,n)=>{var s,a,l,i,r;const o=null==(s=e.settings.range.disableWeekday)?void 0:s.includes(n),c=e.settings.range.disableAllDays&&!(null==(a=e.rangeEnabled)||!a[0]);(o||c)&&(null==(l=e.rangeEnabled)||!l.includes(t))&&(null==(i=e.rangeDisabled)||!i.includes(t))&&(e.rangeDisabled.push(t),null==(r=e.rangeDisabled)||r.sort(((e,t)=>+new Date(e)-+new Date(t))))},ne=(e,t)=>{const n=h(e);n.setDate(n.getDate()+4-(t?n.getDay()||7:n.getDay()));const s=new Date(n.getFullYear(),0,1),a=Math.ceil(((+n-+s)/864e5+1)/7);return{year:n.getFullYear(),week:a}},Le=(e,t,n)=>{const s=ne(n,e.settings.iso8601);s&&(t.dataset.vcWeekNumber=String(s.week))},F=(e,t,n,s,a,l,i)=>{const r=document.createElement("div");r.className=e.CSSClasses.date,r.dataset.vcDate=l,r.dataset.vcDateMonth=i;const o=document.createElement("button");o.className=e.CSSClasses.dateBtn,o.type="button",o.dataset.vcDateBtn="",o.innerText=String(s),e.settings.visibility.weekNumbers&&Le(e,r,l),("current"===i||e.settings.visibility.daysOutside)&&r.appendChild(o),ke(e,l,a),He(e,t,r,a,l,i),n.appendChild(r),e.actions.getDays&&e.actions.getDays(s,l,r,o,e)},xe=(e,t,n,s,a)=>{for(let l=1;l<=n;l++){const n=new Date(s,a,l);F(e,s,t,l,n.getDay(),p(n),"current")}};function O(e){if(!e||!e.getBoundingClientRect)return{top:0,bottom:0,left:0,right:0};const t=e.getBoundingClientRect(),n=document.documentElement;return{bottom:t.bottom,right:t.right,top:t.top+window.scrollY-n.clientTop,left:t.left+window.scrollX-n.clientLeft}}function q(){return{vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),vh:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function $e(){return{left:window.scrollX||document.documentElement.scrollLeft||0,top:window.scrollY||document.documentElement.scrollTop||0}}function Ye(e){const{top:t,left:n}=$e(),{top:s,left:a}=O(e),{vh:l,vw:i}=q(),r=s-t,o=a-n;return{top:r,bottom:l-(r+e.clientHeight),left:o,right:i-(o+e.clientWidth)}}function ae(e,t,n=5){const s={top:!0,bottom:!0,left:!0,right:!0},a=[];if(!t||!e)return{canShow:s,parentPositions:a};const{bottom:l,top:i}=Ye(e),{top:r,left:o}=O(e),{height:c,width:d}=t.getBoundingClientRect(),{vh:u,vw:m}=q(),g=m/2,h=u/2;return[{condition:r<h,position:"top"},{condition:r>h,position:"bottom"},{condition:o<g,position:"left"},{condition:o>g,position:"right"}].forEach((({condition:e,position:t})=>{e&&a.push(t)})),Object.assign(s,{top:c<=i-n,bottom:c<=l-n,left:d<=o,right:d<=m-o}),{canShow:s,parentPositions:a}}const Ae=(e,t,n,s)=>{const a=s.querySelector(`[data-vc-date="${t}"]`);if(!a)return;const l=a.querySelector("[data-vc-date-btn]");if(null!=n&&n.modifier&&(null==l||l.classList.add(...n.modifier.trim().split(" "))),null!=n&&n.html){const t=document.createElement("div");t.className=e.CSSClasses.datePopup,t.dataset.vcDatePopup="",t.innerHTML=e.sanitizer(n.html),a.appendChild(t),setTimeout((()=>{if(t){const{canShow:e}=ae(a,t),n=5;let s=a.offsetHeight,l=0;e.bottom||(s=-t.offsetHeight-n),e.left&&!e.right&&(l=a.offsetWidth-t.offsetWidth/2),!e.left&&e.right&&(l=t.offsetWidth/2),Object.assign(t.style,{left:`${l}px`,top:`${s}px`})}}))}},Ne=(e,t)=>{var n;e.popups&&(null==(n=Object.entries(e.popups))||n.forEach((([n,s])=>Ae(e,n,s,t))))},Pe=(e,t,n,s,a,l)=>{const i=l+n,r=7*Math.ceil(i/7)-i,o=a+1===12?s+1:s,c=a+1===12?"01":a+2<10?`0${a+2}`:a+2;for(let n=1;n<=r;n++){const a=`${o}-${c}-${n<10?`0${n}`:String(n)}`,l=h(a).getDay();F(e,s,t,n,l,a,"next")}},Ie=(e,t,n,s,a)=>{let l=new Date(n,s,0).getDate()-(a-1);const i=0===s?n-1:n,r=0===s?12:s<10?`0${s}`:s;for(let s=a;s>0;s--,l++){const s=`${i}-${r}-${l}`,a=h(s).getDay();F(e,n,t,l,a,s,"prev")}},We=(e,t,n,s,a)=>{if(!e.settings.visibility.weekNumbers)return;s.textContent="";const l=document.createElement("b");l.className=e.CSSClasses.weekNumbersTitle,l.innerText="#",l.dataset.vcWeekNumbers="title",s.appendChild(l);const i=document.createElement("div");i.className=e.CSSClasses.weekNumbersContent,i.dataset.vcWeekNumbers="content",s.appendChild(i);const r=document.createElement("button");r.type="button",r.className=e.CSSClasses.weekNumber;const o=a.querySelectorAll("[data-vc-date]"),c=Math.ceil((t+n)/7);for(let t=0;t<c;t++){const n=o[0===t?6:7*t].dataset.vcDate,s=ne(n,e.settings.iso8601);if(!s)return;const a=r.cloneNode(!0);a.innerText=String(s.week),a.dataset.vcWeek="number",a.dataset.vcWeekYear=String(s.year),i.appendChild(a)}},k=e=>{const t=new Date(e.selectedYear,e.selectedMonth,1),n=e.HTMLElement.querySelectorAll('[data-vc="dates"]'),s=e.HTMLElement.querySelectorAll('[data-vc-week="numbers"]');n.forEach(((n,a)=>{e.settings.selection.day||(n.dataset.vcDatesDisabled="");const l=new Date(t);l.setMonth(l.getMonth()+a);const i=l.getMonth(),r=l.getFullYear(),o=new Date(r,i+1,0).getDate(),c=new Date(r,i,1),d=e.settings.iso8601?(0!==c.getDay()?c.getDay():7)-1:c.getDay();n.textContent="",Ie(e,n,r,i,d),xe(e,n,o,r,i),Pe(e,n,o,r,i,d),We(e,d,o,s[a],n),Ne(e,n)}))},Fe=e=>`<button type="button" class="${e.CSSClasses.arrowNext}" data-vc-arrow="next"></button>`,Oe=e=>`<button type="button" class="${e.CSSClasses.arrowPrev}" data-vc-arrow="prev"></button>`,qe=e=>e.settings.selection.time?`<div class="${e.CSSClasses.time}" data-vc="time"></div>`:"",_e=e=>`<div class="${e.CSSClasses.dates}" data-vc="dates"></div>`,Ke=e=>`<button type="button" class="${e.CSSClasses.month}" data-vc="month"></button>`,je=e=>`<div class="${e.CSSClasses.months}" data-vc="months"></div>`,Be=e=>`<div class="${e.CSSClasses.week}" data-vc="week"></div>`,ze=e=>e.settings.visibility.weekNumbers?`<div class="${e.CSSClasses.weekNumbers}" data-vc-week="numbers"></div>`:"",Re=e=>`<button type="button" class="${e.CSSClasses.year}" data-vc="year"></button>`,Ve=e=>`<div class="${e.CSSClasses.years}" data-vc="years"></div>`,Ge={ArrowNext:Fe,ArrowPrev:Oe,ControlTime:qe,Dates:_e,Month:Ke,Months:je,Week:Be,WeekNumbers:ze,Year:Re,Years:Ve},Ue=e=>Ge[e],A=(e,t)=>t.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,((t,n)=>{const s=Ue(n.replace(/[/\s\n\t]/g,"")),a=s?s(e):"";return e.sanitizer(a)})).replace(/[\n\t]/g,""),Ze=(e,t)=>t.replace(/<#Multiple>(.*?)<#\/Multiple>/g,((t,n)=>{let s="";for(let t=0;t<e.correctMonths;t++)s+=n;return e.sanitizer(s)})).replace(/[\n\t]/g,""),_=(e,t)=>{if(e.HTMLElement.className=e.CSSClasses.calendar,e.HTMLElement.dataset.vc="calendar",e.HTMLElement.dataset.vcType=e.currentType,"multiple"===e.currentType&&e.correctMonths)e.HTMLElement.innerHTML=Ze(e,A(e,e.DOMTemplates[e.currentType]));else{if("multiple"===e.type&&t){const n=e.HTMLElement.querySelector('[data-vc="controls"]'),s=e.HTMLElement.querySelector('[data-vc="grid"]'),a=t.closest('[data-vc="column"]');return n&&e.HTMLElement.removeChild(n),s&&(s.dataset.vcGrid="hidden"),a&&(a.dataset.vcColumn=e.currentType),void(a&&(a.innerHTML=A(e,e.DOMTemplates[e.currentType])))}e.HTMLElement.innerHTML=A(e,e.DOMTemplates[e.currentType])}},Xe=(e,t,n,s,a)=>{const l=new Date(s.setFullYear(e.selectedYear,e.selectedMonth+n)).getFullYear(),i=new Date(s.setMonth(e.selectedMonth+n)).getMonth(),r={month:{id:i,label:e.locale.months[i]},year:{id:l,label:l}};t.innerText=String(r[a].label),t.dataset[`vc${a.charAt(0).toUpperCase()+a.slice(1)}`]=String(r[a].id);const o=!1===e.settings.selection[a]||"only-arrows"===e.settings.selection[a];o&&(t.tabIndex=-1),t.disabled=o},x=e=>{const t=e.HTMLElement.querySelectorAll('[data-vc="month"]'),n=e.HTMLElement.querySelectorAll('[data-vc="year"]'),s=new Date(e.selectedYear,e.selectedMonth,1);[t,n].forEach((t=>null==t?void 0:t.forEach(((t,n)=>Xe(e,t,n,s,t.dataset.vc)))))},R=e=>{if("multiple"!==e.type)return 0;const t=e.HTMLElement.querySelectorAll('[data-vc="column"]'),n=Array.from(t).findIndex((e=>e.closest('[data-vc-column="month"]')));return n>0?n:0},Je=(e,t,n,s,a,l)=>{const i=t.cloneNode(!1);return i.className=e.CSSClasses.monthsMonth,i.innerText=`${e.settings.visibility.monthShort?s.substring(0,3):s}`,i.title=s,i.dataset.vcMonthsMonth=`${l}`,n===l&&(i.dataset.vcMonthsMonthSelected=""),a&&(i.tabIndex=-1),i.disabled=a,i},ie=(e,t)=>{var n;const s=null==(n=null==t?void 0:t.closest('[data-vc="header"]'))?void 0:n.querySelector('[data-vc="year"]'),a=s?Number(s.dataset.vcYear):e.selectedYear,l=null!=t&&t.dataset.vcMonth?Number(t.dataset.vcMonth):e.selectedMonth;e.currentType="month",_(e,t),x(e);const i=e.HTMLElement.querySelector('[data-vc="months"]');if(!e.settings.selection.month||!i)return;const r=e.jumpMonths>1?e.locale.months.map(((t,n)=>l-e.jumpMonths*n)).concat(e.locale.months.map(((t,n)=>l+e.jumpMonths*n))).filter((e=>e>=0&&e<=12)):Array.from(Array(12).keys()),o=document.createElement("button");o.type="button";for(let t=0;t<12;t++){const n=e.locale.months[t],s=t<e.dateMin.getMonth()+R(e)&&a<=e.dateMin.getFullYear()||t>e.dateMax.getMonth()+R(e)&&a>=e.dateMax.getFullYear()||t!==l&&!r.includes(t),c=Je(e,o,l,n,s,t);i.appendChild(c),e.actions.getMonths&&e.actions.getMonths(t,c,e)}},S=e=>e?{0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(e)]||String(e):"",K=(e,t)=>e&&t?{0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"12",PM:"12"}}[Number(e)][t]:"",V=(e,t)=>{e.addEventListener("mouseover",(()=>t.dataset.vcInputFocus="")),e.addEventListener("mouseout",(()=>t.removeAttribute("data-vc-input-focus")))},b=(e,t,n,s)=>{({hour:()=>{e.selectedHours=n},minute:()=>{e.selectedMinutes=n}})[s](),e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`,e.actions.changeTime&&e.actions.changeTime(t,e),e.input&&e.HTMLInputElement&&e.actions.changeToInput&&e.actions.changeToInput(t,e)},G=(e,t,n,s,a,l)=>{t.addEventListener("input",(i=>{const r=Number(t.value),o=r<10?`0${r}`:`${r}`;if("hour"!==a||12!==l)return n.value=o,void b(e,i,o,a);r<l&&r>0?(n.value=o,e.selectedKeeping="AM",s&&(s.innerText=e.selectedKeeping),b(e,i,o,a)):(0===r?(e.selectedKeeping="AM",s&&(s.innerText="AM")):(e.selectedKeeping="PM",s&&(s.innerText="PM")),n.value=S(t.value),b(e,i,S(t.value),a))}))},U=(e,t,n,s,a,l)=>{n.addEventListener("change",(i=>{const r=Number(n.value),o=r<10?`0${r}`:`${r}`;"hour"===a&&12===l?n.value&&r<=l&&r>0?(n.value=o,t.value=K(o,e.selectedKeeping),b(e,i,o,a)):n.value&&r<24&&(r>l||0===r)?(0===r?(e.selectedKeeping="AM",s&&(s.innerText="AM")):(e.selectedKeeping="PM",s&&(s.innerText="PM")),n.value=S(n.value),t.value=o,b(e,i,S(n.value),a)):n.value=e.selectedHours:n.value&&r<=l&&r>=0?(n.value=o,t.value=o,b(e,i,o,a)):"hour"===a?n.value=e.selectedHours:"minute"===a&&(n.value=e.selectedMinutes)}))},Qe=(e,t,n)=>{t.addEventListener("click",(s=>{e.selectedKeeping=t.innerText.includes("AM")?"PM":"AM",t.innerText=e.selectedKeeping,n.value=K(e.selectedHours,e.selectedKeeping),b(e,s,e.selectedHours,"hour")}))},fe=(e,t,n)=>{const s=t.querySelector('[data-vc-time-range="hour"] input[name="hour"]'),a=t.querySelector('[data-vc-time-range="minute"] input[name="minute"]'),l=t.querySelector('[data-vc-time-input="hour"] input[name="hour"]'),i=t.querySelector('[data-vc-time-input="minute"] input[name="minute"]'),r=t.querySelector('[data-vc-time="keeping"]');if(!(s&&a&&l&&i))return;const o=24===n?23:n||12;V(s,l),V(a,i),U(e,s,l,r,"hour",o),U(e,a,i,r,"minute",59),G(e,s,l,r,"hour",o),G(e,a,i,r,"minute",0),r&&Qe(e,r,s)},Z=(e,t,n,s)=>`<label class="${t}" data-vc-time-input="${e}"><input type="text" name="${e}" maxlength="2" value="${n}" ${s?"disabled":""}></label>\n`,X=(e,t,n,s,a,l)=>`<label class="${t}" data-vc-time-range="${e}"><input type="range" name="${e}" min="${n}" max="${s}" step="${a}" value="${l}"></label>\n`,et=e=>{const t=e.HTMLElement.querySelector('[data-vc="time"]');if(!t)return;const[n,s]=[0,23],[a,l]=[0,59],i=e.selectedKeeping?K(e.selectedHours,e.selectedKeeping):e.selectedHours,r=!0===e.settings.selection.time?12:e.settings.selection.time,o="range"===e.settings.selection.controlTime;t.innerHTML=e.sanitizer(`<div class="${e.CSSClasses.timeContent}" data-vc-time="content">${Z("hour",e.CSSClasses.timeHour,e.selectedHours,o)}${Z("minute",e.CSSClasses.timeMinute,e.selectedMinutes,o)}${12===r?`<button type="button" class="${e.CSSClasses.timeKeeping}" data-vc-time="keeping" ${o?"disabled":""}>${e.selectedKeeping}</button>`:""}</div><div class="${e.CSSClasses.timeRanges}" data-vc-time="ranges">${X("hour",e.CSSClasses.timeRange,n,s,e.settings.selection.stepHours,i)}${X("minute",e.CSSClasses.timeRange,a,l,e.settings.selection.stepMinutes,e.selectedMinutes)}</div>`),fe(e,t,r)},tt=(e,t,n)=>{const s=document.createElement("b");for(let a=0;a<n.length;a++){const l=n[a],i=s.cloneNode(!0);i.className=e.CSSClasses.weekDay,i.dataset.vcWeekDay=e.settings.visibility.weekend&&e.settings.iso8601?5===a||6===a?"off":"work":e.settings.visibility.weekend&&!e.settings.iso8601?0===a||6===a?"off":"work":"",i.innerText=l,t.appendChild(i)}},J=e=>{const t=[...e.locale.weekday];t[0]&&(e.settings.iso8601&&t.push(t.shift()),e.HTMLElement.querySelectorAll('[data-vc="week"]').forEach((n=>tt(e,n,t))))},oe=(e,t,n,s)=>{e.style.visibility=n?"hidden":"",t.style.visibility=s?"hidden":""},nt=(e,t,n)=>{const s=h(p(new Date(e.selectedYear,e.selectedMonth,1))),a=new Date(s.getTime()),l=new Date(s.getTime());a.setMonth(a.getMonth()-e.jumpMonths),l.setMonth(l.getMonth()+e.jumpMonths),e.settings.selection.year||(e.dateMin.setFullYear(s.getFullYear()),e.dateMax.setFullYear(s.getFullYear()));const i=!e.settings.selection.month||a.getFullYear()<e.dateMin.getFullYear()||a.getFullYear()===e.dateMin.getFullYear()&&a.getMonth()<e.dateMin.getMonth(),r=!e.settings.selection.month||l.getFullYear()>e.dateMax.getFullYear()||l.getFullYear()===e.dateMax.getFullYear()&&l.getMonth()>e.dateMax.getMonth();oe(t,n,i,r)},at=(e,t,n)=>{const s=!!(e.dateMin.getFullYear()&&e.viewYear-7<=e.dateMin.getFullYear()),a=!!(e.dateMax.getFullYear()&&e.viewYear+7>=e.dateMax.getFullYear());oe(t,n,s,a)},j=e=>{if("month"===e.currentType)return;const t=e.HTMLElement.querySelector('[data-vc-arrow="prev"]'),n=e.HTMLElement.querySelector('[data-vc-arrow="next"]');t&&n&&{default:()=>nt(e,t,n),year:()=>at(e,t,n)}["multiple"===e.currentType?"default":e.currentType]()},it=(e,t,n,s,a)=>{const l=t.cloneNode(!1);return l.className=e.CSSClasses.yearsYear,l.innerText=String(a),l.dataset.vcYearsYear=`${a}`,n===a&&(l.dataset.vcYearsYearSelected=""),s&&(l.tabIndex=-1),l.disabled=s,l},B=(e,t)=>{const n=null!=t&&t.dataset.vcYear?Number(t.dataset.vcYear):e.selectedYear;e.currentType="year",_(e,t),x(e),j(e);const s=e.HTMLElement.querySelector('[data-vc="years"]');if(!e.settings.selection.year||!s)return;const a="multiple"!==e.type||e.selectedYear===n?0:1,l=document.createElement("button");l.type="button";for(let t=e.viewYear-7;t<e.viewYear+8;t++){const i=t<e.dateMin.getFullYear()+a||t>e.dateMax.getFullYear(),r=it(e,l,n,i,t);s.appendChild(r),e.actions.getYears&&e.actions.getYears(t,r,e)}},L={value:!1,set:()=>L.value=!0,check:()=>L.value},D=(e,t)=>e.dataset.vcTheme=t,Q=(e,t)=>{if(D(e.HTMLElement,t.matches?"dark":"light"),"system"!==e.settings.visibility.theme||L.check())return;const n=e=>{const t=document.querySelectorAll('[data-vc="calendar"]');null==t||t.forEach((t=>D(t,e.matches?"dark":"light")))};t.addEventListener?t.addEventListener("change",n):t.addListener(n),L.set()},ot=(e,t,n)=>{new MutationObserver((s=>{for(let a=0;a<s.length;a++)if(s[a].attributeName===n){const s=t.getAttribute(n);s&&D(e.HTMLElement,s);break}})).observe(t,{attributes:!0})},ct=(e,t)=>{const n=e.settings.visibility.themeDetect?document.querySelector(e.settings.visibility.themeDetect):null,s=e.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,((e,t)=>t));if(!n||"system"===n.getAttribute(s))return void Q(e,t);const a=n.getAttribute(s);a?(D(e.HTMLElement,a),ot(e,n,s)):Q(e,t)},st=e=>{"not all"!==window.matchMedia("(prefers-color-scheme)").media?"system"===e.settings.visibility.theme?ct(e,window.matchMedia("(prefers-color-scheme: dark)")):D(e.HTMLElement,e.settings.visibility.theme):D(e.HTMLElement,"light")},ce=e=>`${e.charAt(0).toUpperCase()}${e.substring(1,e.length)}`.replace(/\./,""),rt=(e,t)=>{const n=new Date(`1978-01-0${t+1}T00:00:00.000Z`).toLocaleString(e.settings.lang,{weekday:"short",timeZone:"UTC"});e.locale.weekday.push(ce(n))},dt=(e,t)=>{const n=new Date(`1978-${t+1<=9?`0${t+1}`:t+1}-01T00:00:00.000Z`).toLocaleString(e.settings.lang,{month:"long",timeZone:"UTC"});e.locale.months.push(ce(n))},ut=e=>{if("define"!==e.settings.lang||!e.locale.weekday[6]||!e.locale.months[11]){if("define"===e.settings.lang)throw new Error(E.notLocale);e.locale.weekday=[],e.locale.months=[];for(let t=0;t<7;t++)rt(e,t);for(let t=0;t<12;t++)dt(e,t)}},C=e=>{const t={default:()=>{J(e),k(e)},multiple:()=>{J(e),k(e)},month:()=>ie(e),year:()=>B(e)};st(e),ut(e),_(e),x(e),j(e),et(e),t[e.currentType]()},N=(e,t)=>{const n=h(p(new Date(e.selectedYear,e.selectedMonth,1)));({prev:()=>n.setMonth(n.getMonth()-e.jumpMonths),next:()=>n.setMonth(n.getMonth()+e.jumpMonths)})[t](),[e.selectedMonth,e.selectedYear]=[n.getMonth(),n.getFullYear()],x(e),j(e),k(e)},lt=(e,t)=>{const n=t.target.closest("[data-vc-arrow]");n&&(["default","multiple"].includes(e.currentType)?N(e,n.dataset.vcArrow):"year"===e.currentType&&void 0!==e.viewYear&&(e.viewYear+={prev:-15,next:15}[n.dataset.vcArrow],B(e,t.target)),e.actions.clickArrow&&e.actions.clickArrow(t,e))},mt=e=>void 0===e.toggleSelected||("function"==typeof e.toggleSelected?e.toggleSelected(e):e.toggleSelected),f=(e,t,n)=>{const s=t.dataset.vcDate,a=t.closest("[data-vc-date][data-vc-date-selected]");if(a&&!e.settings.selection.cancelableDay)return;const l=mt(e);a&&!l||(e.selectedDates=a?e.selectedDates.filter((e=>e!==s)):n?[...e.selectedDates,s]:[s])},w=e=>e.reduce(((e,t)=>{if(t instanceof Date||"number"==typeof t){const n=t instanceof Date?t:new Date(t);e.push(n.toISOString().substring(0,10))}else t.match(/^(\d{4}-\d{2}-\d{2})$/g)?e.push(t):t.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,((t,n,s)=>{const a=h(n),l=h(s),i=new Date(a.getTime());for(;i<=l;i.setDate(i.getDate()+1))e.push(p(i));return t}));return e}),[]),m={self:null,rangeMin:void 0,rangeMax:void 0},ee=()=>{var e;null!=(e=m.self)&&e.HTMLElement&&m.self.HTMLElement.querySelectorAll("[data-vc-date-hover]").forEach((e=>["data-vc-date-hover","data-vc-date-hover-first","data-vc-date-hover-last"].forEach((t=>e.removeAttribute(t)))))},gt=(e,t,n)=>{var s,a;if(null==(s=m.self)||!s.selectedDates)return;const l=p(e);if(null!=(a=m.self.rangeDisabled)&&a.includes(l))return;const i=m.self.HTMLElement.querySelectorAll(`[data-vc-date="${l}"]`);null==i||i.forEach((e=>e.dataset.vcDateHover="")),null==t||t.forEach((e=>e.dataset.vcDateHoverFirst="")),null==n||n.forEach((e=>e.dataset.vcDateHoverLast=""))},P=e=>{var t;if(!e.target||null==(t=m.self)||!t.selectedDates)return;if(!e.target.closest('[data-vc="dates"]'))return void ee();const n=e.target.closest("[data-vc-date]");if(!n)return;const s=n.dataset.vcDate,a=h(m.self.selectedDates[0]),l=h(s),i=m.self.HTMLElement.querySelectorAll(`[data-vc-date="${m.self.selectedDates[0]}"]`),r=m.self.HTMLElement.querySelectorAll(`[data-vc-date="${s}"]`),[o,c]=a<l?[i,r]:[r,i],[d,u]=a<l?[a,l]:[l,a];ee();for(let e=new Date(d);e<=u;e.setDate(e.getDate()+1))gt(e,o,c)},I=e=>{!m.self||"Escape"!==e.key||(m.self.selectedDates=[],m.self.HTMLElement.removeEventListener("mousemove",P),document.removeEventListener("keydown",I),C(m.self))},ht=()=>{var e,t,n;if(null==(t=null==(e=m.self)?void 0:e.selectedDates)||!t[0]||null==(n=m.self.rangeDisabled)||!n[0])return;const s=h(m.self.selectedDates[0]),[a,l]=m.self.rangeDisabled.map((e=>h(e))).reduce((([e,t],n)=>[s>=n?n:e,s<n&&null===t?n:t]),[null,null]);a&&(m.self.rangeMin=p(new Date(a.setDate(a.getDate()+1)))),l&&(m.self.rangeMax=p(new Date(l.setDate(l.getDate()-1))))},vt=()=>{m.self&&(m.self.rangeMin=m.rangeMin,m.self.rangeMax=m.rangeMax)},se=(e,t)=>{var n;if(t){const s=1===e.selectedDates.length&&e.selectedDates[0].includes(t);e.selectedDates=s&&!e.settings.selection.cancelableDay?[t,t]:s&&e.settings.selection.cancelableDay?[]:e.selectedDates.length>1?[t]:[...e.selectedDates,t],null==(n=e.selectedDates)||n.sort(((e,t)=>+new Date(e)-+new Date(t)))}e.settings.range.disableGaps&&(m.rangeMin=m.rangeMin?m.rangeMin:e.rangeMin,m.rangeMax=m.rangeMax?m.rangeMax:e.rangeMax),m.self=e,{set:()=>{e.HTMLElement.addEventListener("mousemove",P),document.addEventListener("keydown",I),e.settings.range.disableGaps&&ht()},reset:()=>{const[t,n]=[e.selectedDates[0],e.selectedDates[e.selectedDates.length-1]];e.selectedDates=e.selectedDates[0]!==e.selectedDates[e.selectedDates.length-1]?e.settings.range.edgesOnly?[t,n]:w([`${t}:${n}`]):[e.selectedDates[0],e.selectedDates[0]],e.HTMLElement.removeEventListener("mousemove",P),document.removeEventListener("keydown",I),e.settings.range.disableGaps&&vt()}}[1===e.selectedDates.length?"set":"reset"]()},Mt=(e,t)=>{var n;const s=t.target,a=s.closest("[data-vc-date-btn]");if(!e.settings.selection.day||!["single","multiple","multiple-ranged"].includes(e.settings.selection.day)||!a)return;const l=a.closest("[data-vc-date]");({single:()=>f(e,l,!1),multiple:()=>f(e,l,!0),"multiple-ranged":()=>se(e,l.dataset.vcDate)})[e.settings.selection.day](),null==(n=e.selectedDates)||n.sort(((e,t)=>+new Date(e)-+new Date(t))),e.actions.clickDay&&e.actions.clickDay(t,e),e.input&&e.HTMLInputElement&&e.HTMLElement&&e.actions.changeToInput&&e.actions.changeToInput(t,e);const i=s.closest('[data-vc-date-month="prev"]'),r=s.closest('[data-vc-date-month="next"]');({prev:()=>N(e,"prev"),next:()=>N(e,"next"),current:()=>k(e)})[i?"prev":r?"next":"current"]()},pt=["month","year"],re=(e,t,n)=>{const s=e.HTMLElement.querySelectorAll('[data-vc="column"]'),a=Array.from(s).findIndex((e=>e.closest(`[data-vc-column="${t}"]`))),l=Number(s[a].querySelector(`[data-vc="${t}"]`).getAttribute(`data-vc-${t}`));return"month"===e.currentType&&a>=0?n-a:"year"===e.currentType&&e.selectedYear!==l?n-1:n},yt=(e,t)=>{const n=re(e,"year",Number(t.dataset.vcYearsYear)),s=e.selectedMonth<e.dateMin.getMonth()&&n<=e.dateMin.getFullYear(),a=e.selectedMonth>e.dateMax.getMonth()&&n>=e.dateMax.getFullYear(),l=n<e.dateMin.getFullYear(),i=n>e.dateMax.getFullYear();e.selectedYear=s||l?e.dateMin.getFullYear():a||i?e.dateMax.getFullYear():n,e.selectedMonth=s||l?e.dateMin.getMonth():a||i?e.dateMax.getMonth():e.selectedMonth},bt=(e,t)=>{const n=t.closest('[data-vc-column="month"]').querySelector('[data-vc="year"]'),s=re(e,"month",Number(t.dataset.vcMonthsMonth)),a=Number(n.dataset.vcYear),l=s<e.dateMin.getMonth()&&a<=e.dateMin.getFullYear(),i=s>e.dateMax.getMonth()&&a>=e.dateMax.getFullYear();e.selectedYear=a,e.selectedMonth=l?e.dateMin.getMonth():i?e.dateMax.getMonth():s},Dt=(e,t,n,s)=>{({year:()=>{if("multiple"===e.type)return yt(e,s);e.selectedYear=Number(s.dataset.vcYearsYear)},month:()=>{if("multiple"===e.type)return bt(e,s);e.selectedMonth=Number(s.dataset.vcMonthsMonth)}})[n](),{year:()=>{var n,s;return null==(s=(n=e.actions).clickYear)?void 0:s.call(n,t,e)},month:()=>{var n,s;return null==(s=(n=e.actions).clickMonth)?void 0:s.call(n,t,e)}}[n](),e.currentType=e.type,C(e)},wt=(e,t,n)=>{const s=t.target,a=s.closest(`[data-vc="${n}"]`),l={year:()=>B(e,s),month:()=>ie(e,s)};if(a&&e.currentType!==n)return l[n]();const i=s.closest(`[data-vc-${n}s-${n}]`);if(i)return Dt(e,t,n,i);const r=s.closest('[data-vc="grid"]'),o=s.closest('[data-vc="column"]');(e.currentType===n&&a||"multiple"===e.type&&e.currentType===n&&r&&!o)&&(e.currentType=e.type,C(e))},Tt=(e,t)=>{pt.forEach((n=>{!e.settings.selection[n]||!t.target||wt(e,t,n)}))},St=(e,t)=>{if(!e.settings.visibility.weekNumbers||!e.actions.clickWeekNumber)return;const n=t.target.closest('[data-vc="week-numbers"]'),s=e.HTMLElement.querySelectorAll("[data-vc-week-number]");if(!n||!s)return;const a=Number(n.innerText),l=Number(n.dataset.calendarYearWeek),i=Array.from(s).filter((e=>Number(e.dataset.vcWeekNumber)===a));e.actions.clickWeekNumber(t,a,i,l,e)},de=e=>{const t=t=>{lt(e,t),St(e,t),Mt(e,t),Tt(e,t)};return e.HTMLElement.addEventListener("click",t),()=>e.HTMLElement.removeEventListener("click",t)};function Et(e,t){const n="left";if(!t||!e)return n;const{canShow:s,parentPositions:a}=ae(e,t),l=s.left&&s.right;return(l&&s.bottom?"center":l&&s.top?["top","center"]:Array.isArray(a)?["bottom"===a[0]?"top":"bottom",...a.slice(1)]:a)||n}const W=(e,t,n)=>{if(e){const s="auto"===n?Et(e,t):n,a={top:-t.offsetHeight,bottom:e.offsetHeight,left:0,center:e.offsetWidth/2-t.offsetWidth/2,right:e.offsetWidth-t.offsetWidth},l=Array.isArray(s)?s[0]:"bottom",i=Array.isArray(s)?s[1]:s;t.dataset.vcPosition=l;const{top:r,left:o}=O(e),c=r+a[l];let d=o+a[i];const{vw:u}=q();if(d+t.clientWidth>u){const e=window.innerWidth-document.body.clientWidth;d=u-t.clientWidth-e}else d<0&&(d=0);Object.assign(t.style,{left:`${d}px`,top:`${c}px`})}},H=()=>{const e=new Date;return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().substring(0,10)},Ct=e=>{var t;if(e.jumpToSelectedDate&&null!=(t=e.settings.selected.dates)&&t.length&&void 0===e.settings.selected.month&&void 0===e.settings.selected.year){const t=h(w(e.settings.selected.dates)[0]);e.settings.selected.month=t.getMonth(),e.settings.selected.year=t.getFullYear()}const n=void 0!==e.settings.selected.month&&Number(e.settings.selected.month)>=0&&Number(e.settings.selected.month)<12,s=void 0!==e.settings.selected.year&&Number(e.settings.selected.year)>=0&&Number(e.settings.selected.year)<=9999;e.selectedMonth=n?Number(e.settings.selected.month):e.date.today.getMonth(),e.selectedYear=s?Number(e.settings.selected.year):e.date.today.getFullYear(),e.viewYear=e.selectedYear},Ht=e=>{var t,n,s;"today"===e.date.min&&(e.date.min=H()),"today"===e.date.max&&(e.date.max=H()),"today"===e.settings.range.min&&(e.settings.range.min=H()),"today"===e.settings.range.max&&(e.settings.range.max=H()),e.settings.range.min=e.settings.range.min?h(e.date.min)>=h(e.settings.range.min)?e.date.min:e.settings.range.min:e.date.min,e.settings.range.max=e.settings.range.max?h(e.date.max)<=h(e.settings.range.max)?e.date.max:e.settings.range.max:e.date.max;const a=e.settings.range.disablePast&&!e.settings.range.disableAllDays&&h(e.settings.range.min)<e.date.today;e.rangeMin=a||e.settings.range.disableAllDays?p(e.date.today):e.settings.range.min,e.rangeMax=e.settings.range.disableAllDays?p(e.date.today):e.settings.range.max,e.rangeDisabled=e.settings.range.disabled&&!e.settings.range.disableAllDays?w(e.settings.range.disabled):e.settings.range.disableAllDays?[e.rangeMin]:[],e.rangeDisabled.length>1&&e.rangeDisabled.sort(((e,t)=>+new Date(e)-+new Date(t))),e.rangeEnabled=e.settings.range.enabled?w(e.settings.range.enabled):[],null!=(t=e.rangeEnabled)&&t[0]&&null!=(n=e.rangeDisabled)&&n[0]&&(e.rangeDisabled=e.rangeDisabled.filter((t=>!e.rangeEnabled.includes(t)))),e.rangeEnabled.length>1&&e.rangeEnabled.sort(((e,t)=>+new Date(e)-+new Date(t))),null!=(s=e.rangeEnabled)&&s[0]&&e.settings.range.disableAllDays&&(e.rangeMin=e.rangeEnabled[0],e.rangeMax=e.rangeEnabled[e.rangeEnabled.length-1])},kt=e=>{var t,n;e.selectedDates=null!=(t=e.settings.selected.dates)&&t[0]?w(e.settings.selected.dates):[],e.selectedHolidays=null!=(n=e.settings.selected.holidays)&&n[0]?w(e.settings.selected.holidays):[]},Lt=e=>{e.dateMin=e.settings.visibility.disabled?h(e.date.min):h(e.rangeMin),e.dateMax=e.settings.visibility.disabled?h(e.date.max):h(e.rangeMax)},xt=e=>{const t=!0===e.settings.selection.time||12===e.settings.selection.time;if(t||24===e.settings.selection.time){let n=!1;if("string"==typeof e.settings.selected.time){const s=t?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;e.settings.selected.time.replace(s,((s,a,l,i)=>(a&&l&&(n=!0,e.selectedHours=a,e.selectedMinutes=l),i&&t?e.selectedKeeping=i:t&&(e.selectedKeeping="AM"),"")))}!n&&t?(e.selectedHours=S(String(e.date.today.getHours())),e.selectedMinutes=String(e.date.today.getMinutes()),e.selectedKeeping=Number(e.date.today.getHours())>=12?"PM":"AM"):n||(e.selectedHours=String(e.date.today.getHours()),e.selectedMinutes=String(e.date.today.getMinutes())),e.selectedHours=Number(e.selectedHours)<10?`0${Number(e.selectedHours)}`:`${e.selectedHours}`,e.selectedMinutes=Number(e.selectedMinutes)<10?`0${Number(e.selectedMinutes)}`:`${e.selectedMinutes}`,e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`}else if(e.settings.selection.time)throw new Error(E.incorrectTime)},$t=e=>{e.correctMonths="multiple"===e.type?1===e.months?2:e.months>12?12:e.months:1},ue=e=>{e.currentType=e.type,Ct(e),Ht(e),kt(e),Lt(e),xt(e),$t(e)},le=(e,{year:t,month:n,dates:s,holidays:a,time:l}={})=>{var i;const r=Y({},e.settings.selected);e.settings.selected.year=t?r.year:e.selectedYear,e.settings.selected.month=n?r.month:e.selectedMonth,e.settings.selected.holidays=a?r.holidays:e.selectedHolidays,e.settings.selected.time=l?r.time:e.selectedTime,e.settings.selected.dates="only-first"===s&&null!=(i=e.selectedDates)&&i[0]?[e.selectedDates[0]]:!0===s?r.dates:e.selectedDates,ue(e),C(e),e.settings.selected=r,"multiple-ranged"===e.settings.selection.day&&s&&se(e)},me=(e,t=!0)=>{const n=document.createElement("div");return n.className=e.CSSClasses.calendar,n.dataset.vc="calendar",n.dataset.vcInput="",n.dataset.vcCalendarHidden="",n.style.visibility="hidden",e.isInputInit=!0,e.HTMLElement=n,document.body.appendChild(e.HTMLElement),t&&queueMicrotask((()=>{W(e.HTMLInputElement,n,e.settings.visibility.positionToInput),e.HTMLElement.style.visibility="visible",e.show()})),le(e,{year:!0,month:!0,dates:!0,holidays:!0,time:!0}),e.actions.initCalendar&&e.actions.initCalendar(e),de(e)},Yt=e=>{const t=[];e.HTMLInputElement=e.HTMLElement;const n=()=>W(e.HTMLInputElement,e.HTMLElement,e.settings.visibility.positionToInput),s=t=>{"Escape"===t.key&&(null!=e&&e.HTMLInputElement&&null!=e&&e.HTMLElement&&e.hide(),document.removeEventListener("keydown",s))},a=t=>{!e||t.target===e.HTMLInputElement||e.HTMLElement.contains(t.target)||(e.HTMLInputElement&&e.HTMLElement&&e.hide(),window.removeEventListener("resize",n),document.removeEventListener("click",a,{capture:!0}))},l=()=>{e.isInputInit?(W(e.HTMLInputElement,e.HTMLElement,e.settings.visibility.positionToInput),e.HTMLElement.style.visibility="visible",e.show()):t.push(me(e)),window.addEventListener("resize",n),document.addEventListener("click",a,{capture:!0}),document.addEventListener("keydown",s)};return e.HTMLInputElement.addEventListener("click",l),e.HTMLInputElement.addEventListener("focus",l),()=>{t.forEach((e=>e()))}},At=e=>(e.HTMLOriginalElement=e.HTMLElement.cloneNode(!0),e.isInit=!0,e.input?Yt(e):(ue(e),C(e),e.actions.initCalendar&&e.actions.initCalendar(e),de(e))),Nt=e=>{e.currentType?(e.HTMLElement.removeAttribute("data-vc-calendar-hidden"),e.actions.showCalendar&&e.actions.showCalendar(e)):e.HTMLElement.click()},Pt=(e,{year:t,month:n,dates:s,holidays:a,time:l}={})=>{if(!e.isInit)throw new Error(E.notInit);e.input&&!e.isInputInit&&me(e,!1),le(e,{year:t,month:n,dates:s,holidays:a,time:l}),e.actions.updateCalendar&&e.actions.updateCalendar(e)},T=class e extends Se{constructor(t,n){var s;super(),u(this,"queryAndMemoize",(t=>{const n=document.querySelector(t);if(!n)throw new Error(E.notFoundSelector(t));return e.memoizedElements.set(t,n),n})),u(this,"init",(()=>At(this))),u(this,"update",(e=>Pt(this,e))),u(this,"destroy",(()=>Ee(this))),u(this,"show",(()=>Nt(this))),u(this,"hide",(()=>Ce(this))),this.HTMLElement="string"==typeof t?null!=(s=e.memoizedElements.get(t))?s:this.queryAndMemoize(t):t,n&&this.applyOptions(n)}applyOptions(e){const t=(e,n)=>{Object.keys(n).forEach((s=>{"object"!=typeof e[s]||"object"!=typeof n[s]||n[s]instanceof Date?e[s]=n[s]:t(e[s],n[s])}))};t(this,e)}};u(T,"memoizedElements",new Map);let te=T;export{te as default};